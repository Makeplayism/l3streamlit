# /clean-null 内部指令

此文档定义了 `/clean-null` 内部指令，用于清除 Markdown 内容中的意外字符。

## 清理规则

### 1. 表格相关清理
- 清除 `< /dev/null` 字符串
- 清除 `</dev/null` 字符串  
- 清除 `<dev/null` 字符串
- 清除 `>/dev/null` 字符串

### 2. 其他常见意外字符
- 清除 `< /tmp/` 开头的路径片段
- 清除 `< /var/` 开头的路径片段
- 清除 `< /usr/` 开头的路径片段
- 清除 `< /opt/` 开头的路径片段
- 清除 `< /home/` 开头的路径片段

### 3. 特殊字符清理
- 清除孤立的 `< ` 字符
- 清除孤立的 `> ` 字符
- 清除连续的空白字符（超过2个空格）
- 清除表格中的意外换行符

## 使用方法

每当生成包含 Markdown 表格或代码块的内容时，自动应用此清理规则：

1. 生成完整内容
2. 应用 `/clean-null` 清理规则
3. 验证 Markdown 语法正确性
4. 输出最终内容

## 正则表达式模式

```regex
# 清理 /dev/null 相关
s/< ?\/dev\/null\s*//g

# 清理路径片段
s/< ?\/(?:tmp|var|usr|opt|home)\/[^\s|]*//g

# 清理孤立符号
s/< (?![a-zA-Z])//g
s/> (?![a-zA-Z])//g

# 清理多余空格
s/  +/ /g
```

## 验证检查点

- [ ] 表格语法正确
- [ ] 代码块完整
- [ ] 无意外字符
- [ ] 链接正常
- [ ] 格式保持完整